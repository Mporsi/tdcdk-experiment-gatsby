@import "node_modules/@tdcerhverv/parrotfish/dist/colors-design-token";
@import "node_modules/@tdcerhverv/sass-utils/_util";
@import "src/assets/css/helpers/_mq";
@import "src/assets/css/helpers/_target-ie";

@mixin translatedLinksFix() {
  // fix for Links in top menu not working after page has been translated in Chrome
  & > span font,
  & > font > font {
    pointer-events: none;
  }
}

.topmenu {
  height: $mobile-topmenu-height;
  display: flex;
  justify-content: space-between;
  align-items: center;
  background-color: map-get($theme, "white");
  box-shadow: 0 0 rem(8) map-get($theme, "grey-light");
  position: fixed;
  z-index: 200;
  left: 0;
  top: 0;
  width: 100%;

  @include mq($from: l-screen) {
    height: $desktop-topmenu-height;
  }
}

.primary-nav {
  display: flex;
  align-items: center;
  height: inherit;
}

.logo {
  min-width: rem(100);
  max-width: rem(100);
  padding: 0 rem(30);
  cursor: pointer;
  color: map-get($theme, 'primary');
  z-index: 1;

  svg {
    position: relative;
    z-index: 0; // setting lower stack order than anchor to capture anchor element attributes for GA tracking
  }

  path {
    // block clicks on path sub-elements in logo so link will still work
    pointer-events: none;
  }
}

.topmenu-link {
  display: none;

  @include mq($from: l-screen) {
    display: flex;
    align-items: center;
    color: map-get($theme, "black");
    border: 0;
    font-size: rem(15);
    font-weight: 400;
    padding: rem(16) rem(20);
    cursor: pointer;
    line-height: rem(20);

    &:hover {
      color: map-get($theme, "primary-light");

      svg {
        fill: map-get($theme, "primary-light");
      }
    }

    &:active {
      color: map-get($theme, "primary-dark");
    }

    @include translatedLinksFix()
  }
}

.secondary-nav {
  display: flex;
  align-items: center;

  @include mq($from: l-screen) {
    padding-right: rem(20);
  }
}

.secondary-nav-icons {
  width: rem(18);

  @include mq($from: l-screen) {
    padding-left: rem(10);
  }
}

.search-icon-wrapper {
  height: 2rem;
}

.search-icon {
  width: rem(20);
  cursor: pointer;
  border: 0;
  display: inline-block;

  @include mq($from: l-screen) {
    &:hover {
      fill: map-get($theme, "primary-light");
    }
  }
}

.search-form {
  width: 100%;
  display: flex;
  flex-direction: column;
}

.search-input {
  flex: 2;
  border: 0;
  font-size: rem(32);
  padding: rem(24);
  outline: none;
  width: 100%;

  &::placeholder {
    color: map-get($theme, "grey-light");
  }

  @include mq($from: l-screen) {
    padding: rem(48) rem(48) rem(35);
  }
}

.search-menu {
  background-color: map-get($theme, "white");
  list-style: none;
  padding: rem(12) rem(24);

  @include mq($from: l-screen) {
    padding-left: rem(38);
    padding-right: rem(48);
  }
}

.search-menu-item {
  padding: rem(10);
  margin: 0;
  font-size: rem(15);
  text-transform: capitalize;

  &:hover {
    cursor: pointer;
    background-color: map-get($theme, "primary-light");
    color: map-get($theme, "white");
    border-radius: rem(4);
  }
}

.highlighted-suggestion {
  background-color: map-get($theme, "primary-light");
  color: white;
}

.background-modal {
  position: fixed;
  transition: all 0.3s ease-in-out;
  animation-fill-mode: both;
  top: calc(#{$mobile-topmenu-height} - #{rem(2)});
  right: 0;
  bottom: 0;
  left: 0;
  background-color: rgba(map-get($theme, "black"), 0.5);
  height: 100%;
  overflow-y: scroll;
  overflow-x: hidden;
  z-index: 200;

  @include mq($from: l-screen) {
    overflow-y: hidden;
    top: calc(#{$desktop-topmenu-height} - #{rem(2)});
  }
}
.background-modal-open {
  height: 100%;
  opacity: 1;
  z-index: 200;
}
.background-modal-closed {
  height: 0;
  opacity: 0;
  z-index: -1;
}

.burger-menu {
  position: fixed;
  width: 100%;
  height: 100%;
  background-color: map-get($theme, "white");
  padding-top: rem(15);

  @include mq($from: l-screen) {
    display: none;
  }
}

.burger-menu-icon-wrapper {

  @include mq($from: l-screen) {
    display: none;
  }
}

.burger-menu-item {
  align-items: center;
  font-size: rem(18);
  padding: rem(20) rem(42);
  display: flex;
  justify-content: space-between;
  color: map-get($theme, "black");
  width: 100%;
  box-sizing: border-box;

  &:active {
    color: map-get($theme, "primary-dark");
  }

  & > svg {
    height: 1rem;
  }

  @include translatedLinksFix()
}

.burger-icon {
  width: rem(25);
  padding-left: rem(10);
  padding-right: rem(24);

  @include mq($from: l-screen) {
    display: none;
  }
}

.back-headline {
  width: 100%;
  padding: rem(40) 0 rem(30) rem(30);
  font-size: rem(15);
  margin: 0;
  border-bottom: 1px solid map-get($theme, "grey-light");
  text-transform: capitalize;

  &:hover,
  &:active,
  &:focus {
    background: none;
  }

  @include mq($from: l-screen) {
    display: none;
  }
}

.expander-icon {
  width: rem(15);
  transform: rotateX(0deg);
  transition: transform 0.3s ease-in-out;

  @include mq($from: m-screen) {
    padding-left: rem(10);
  }

  &-active {
    transform: rotateX(-180deg);
  }

  &-mobile {
    width: rem(15);
    transform: rotateZ(-90deg);
  }
}

.expanded-menu-container {
  padding: rem(10) rem(30) rem(100);

  @include mq($from: l-screen) {
    display: flex;
    flex-flow: row wrap;
    justify-content: space-between;
    width: 80%;
    padding-bottom: rem(48);
  }
}

.dropdown-container {
  background-color: white;
  transition: all 0.3s ease-in-out;
  transform: translateX(0);

  @include mq($from: l-screen) {
    display: flex;
    justify-content: center;
    padding: rem(40) rem(40) 0;
  }

  &-open-mobile {
    transform: translateX(0);
  }

  &-closed-mobile {
    transform: translateX(calc(100%));
  }
}

.dropdown-section {
  max-width: rem(300);
  padding-top: rem(30);
  flex: 1;

  @include target-ie {
    flex-basis: auto;
  }

  @include mq($from: l-screen) {
    padding-top: rem(35);
    padding-bottom: rem(15);
  }
}

.link-title {
  font-size: rem(15);
  font-weight: 400;
  color: map-get($theme, "primary");
  margin: 0;
}

.link-description {
  margin: 0;
  padding: rem(2) 0 rem(12) 0;

  color: map-get($theme, "black");
  font-size: rem(12);
  line-height: 0.875rem;

  @include mq($from: l-screen) {
    padding-right: rem(30);
  }
}
